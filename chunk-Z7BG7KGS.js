import{b as z,c as H}from"./chunk-WNFC3E3L.js";import{b as C,d as p,f as w,g as L,j as N,l as q,m as T,p as k,r as D,s as R,t as V,u as A,y as U,z as W}from"./chunk-Q6LILO2K.js";import{a as K,d as O}from"./chunk-JXGKVVKP.js";import{Ca as e,Da as t,Db as E,Ea as c,Eb as I,Ec as P,Fc as j,Gc as B,Hb as F,Jc as G,Ka as S,Ma as b,N as v,Ua as i,Wa as M,Yc as J,ab as _,ca as a,da as d,qa as s,sa as l,sb as h,wb as y}from"./chunk-KDZ77AOY.js";function Q(r,u){r&1&&(e(0,"mat-error"),i(1,"Email is required"),t())}function X(r,u){r&1&&(e(0,"mat-error"),i(1,"Invalid email"),t())}function Y(r,u){r&1&&(e(0,"mat-error"),i(1,"Password is required"),t())}function Z(r,u){if(r&1&&(e(0,"div",15),i(1),t()),r&2){let m=b();a(),M(" ",m.errorMessage," ")}}var ve=(()=>{class r{fb;authService;router;loginForm;errorMessage="";constructor(m,n,o){this.fb=m,this.authService=n,this.router=o,this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",p.required]})}onSubmit(){if(this.loginForm.valid){let{email:m,password:n}=this.loginForm.value;this.authService.login(m,n).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:o=>{this.errorMessage="Invalid credentials. Please try again."}})}}static \u0275fac=function(n){return new(n||r)(d(k),d(J),d(E))};static \u0275cmp=v({type:r,selectors:[["app-login"]],standalone:!0,features:[_],decls:31,vars:6,consts:[[1,"min-h-screen","bg-gradient-sky","flex","items-center","justify-center","py-16","px-4"],[1,"max-w-md","w-full","p-8"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","email","formControlName","email"],["matPrefix",""],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["class","text-red-600 text-sm mb-4",4,"ngIf"],["type","submit","mat-raised-button","",1,"w-full","bg-gradient-himalayan","text-white","text-lg","py-3",3,"disabled"],[1,"mt-6","text-center"],["routerLink","/auth/register",1,"text-himalayan-blue","font-semibold","ml-1"],[1,"text-red-600","text-sm","mb-4"]],template:function(n,o){if(n&1&&(e(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"h1",3),i(4,"Welcome Back"),t(),e(5,"p",4),i(6,"Sign in to your account"),t()(),e(7,"form",5),S("ngSubmit",function(){return o.onSubmit()}),e(8,"mat-form-field",6)(9,"mat-label"),i(10,"Email"),t(),c(11,"input",7),e(12,"mat-icon",8),i(13,"email"),t(),s(14,Q,2,0,"mat-error",9)(15,X,2,0,"mat-error",9),t(),e(16,"mat-form-field",6)(17,"mat-label"),i(18,"Password"),t(),c(19,"input",10),e(20,"mat-icon",8),i(21,"lock"),t(),s(22,Y,2,0,"mat-error",9),t(),s(23,Z,2,1,"div",11),e(24,"button",12),i(25," Sign In "),t()(),e(26,"div",13)(27,"p",4),i(28," Don't have an account? "),e(29,"a",14),i(30,"Sign Up"),t()()()()()),n&2){let f,g,x;a(7),l("formGroup",o.loginForm),a(7),l("ngIf",(f=o.loginForm.get("email"))==null?null:f.hasError("required")),a(),l("ngIf",(g=o.loginForm.get("email"))==null?null:g.hasError("email")),a(7),l("ngIf",(x=o.loginForm.get("password"))==null?null:x.hasError("required")),a(),l("ngIf",o.errorMessage),a(),l("disabled",!o.loginForm.valid)}},dependencies:[y,h,D,N,C,w,L,q,T,F,I,W,U,R,V,A,H,z,G,B,j,P,O,K]})}return r})();export{ve as LoginComponent};
