import{b as W,c as X}from"./chunk-WNFC3E3L.js";import{b as T,d as p,f as k,g as V,j,l as A,m as D,p as G,r as L,s as $,t as H,u as K,y as O,z as Q}from"./chunk-Q6LILO2K.js";import{a as Z,d as ee}from"./chunk-JXGKVVKP.js";import{Ca as t,Da as e,Db as P,Ea as u,Eb as q,Ec as B,Fc as z,Gc as J,Hb as N,Jc as U,Ka as M,Ma as y,N as w,Ua as r,Wa as C,Yc as Y,ab as I,ca as a,da as c,qa as d,sa as o,sb as F,wb as R}from"./chunk-KDZ77AOY.js";function te(i,s){i&1&&(t(0,"mat-error"),r(1,"Name is required"),e())}function re(i,s){i&1&&(t(0,"mat-error"),r(1,"Email is required"),e())}function ie(i,s){i&1&&(t(0,"mat-error"),r(1,"Invalid email"),e())}function ne(i,s){i&1&&(t(0,"mat-error"),r(1,"Phone is required"),e())}function ae(i,s){i&1&&(t(0,"mat-error"),r(1,"Invalid phone number"),e())}function oe(i,s){i&1&&(t(0,"mat-error"),r(1,"Password is required"),e())}function me(i,s){i&1&&(t(0,"mat-error"),r(1,"Password must be at least 6 characters"),e())}function le(i,s){i&1&&(t(0,"mat-error"),r(1,"Please confirm password"),e())}function se(i,s){i&1&&(t(0,"mat-error"),r(1,"Passwords do not match"),e())}function pe(i,s){if(i&1&&(t(0,"div",18),r(1),e()),i&2){let l=y();a(),C(" ",l.errorMessage," ")}}var Re=(()=>{class i{fb;authService;router;registerForm;errorMessage="";constructor(l,m,n){this.fb=l,this.authService=m,this.router=n,this.registerForm=this.fb.group({name:["",p.required],email:["",[p.required,p.email]],phone:["",[p.required,p.pattern(/^[0-9]{10}$/)]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",p.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(l){let m=l.get("password"),n=l.get("confirmPassword");return m&&n&&m.value!==n.value?(n.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}onSubmit(){if(this.registerForm.valid){let{name:l,email:m,phone:n,password:f}=this.registerForm.value;this.authService.register(l,m,f,n).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:g=>{this.errorMessage="Registration failed. Please try again."}})}}static \u0275fac=function(m){return new(m||i)(c(G),c(Y),c(P))};static \u0275cmp=w({type:i,selectors:[["app-register"]],standalone:!0,features:[I],decls:55,vars:12,consts:[[1,"min-h-screen","bg-gradient-sky","flex","items-center","justify-center","py-16","px-4"],[1,"max-w-md","w-full","p-8"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","name"],["matPrefix",""],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["matInput","","formControlName","phone","placeholder","10 digit number"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","confirmPassword"],["class","text-red-600 text-sm mb-4",4,"ngIf"],["type","submit","mat-raised-button","",1,"w-full","bg-gradient-himalayan","text-white","text-lg","py-3",3,"disabled"],[1,"mt-6","text-center"],["routerLink","/auth/login",1,"text-himalayan-blue","font-semibold","ml-1"],[1,"text-red-600","text-sm","mb-4"]],template:function(m,n){if(m&1&&(t(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"h1",3),r(4,"Create Account"),e(),t(5,"p",4),r(6,"Join us for amazing adventures"),e()(),t(7,"form",5),M("ngSubmit",function(){return n.onSubmit()}),t(8,"mat-form-field",6)(9,"mat-label"),r(10,"Full Name"),e(),u(11,"input",7),t(12,"mat-icon",8),r(13,"person"),e(),d(14,te,2,0,"mat-error",9),e(),t(15,"mat-form-field",6)(16,"mat-label"),r(17,"Email"),e(),u(18,"input",10),t(19,"mat-icon",8),r(20,"email"),e(),d(21,re,2,0,"mat-error",9)(22,ie,2,0,"mat-error",9),e(),t(23,"mat-form-field",6)(24,"mat-label"),r(25,"Phone Number"),e(),u(26,"input",11),t(27,"mat-icon",8),r(28,"phone"),e(),d(29,ne,2,0,"mat-error",9)(30,ae,2,0,"mat-error",9),e(),t(31,"mat-form-field",6)(32,"mat-label"),r(33,"Password"),e(),u(34,"input",12),t(35,"mat-icon",8),r(36,"lock"),e(),d(37,oe,2,0,"mat-error",9)(38,me,2,0,"mat-error",9),e(),t(39,"mat-form-field",6)(40,"mat-label"),r(41,"Confirm Password"),e(),u(42,"input",13),t(43,"mat-icon",8),r(44,"lock"),e(),d(45,le,2,0,"mat-error",9)(46,se,2,0,"mat-error",9),e(),d(47,pe,2,1,"div",14),t(48,"button",15),r(49," Sign Up "),e()(),t(50,"div",16)(51,"p",4),r(52," Already have an account? "),t(53,"a",17),r(54,"Sign In"),e()()()()()),m&2){let f,g,_,h,x,v,E,S,b;a(7),o("formGroup",n.registerForm),a(7),o("ngIf",(f=n.registerForm.get("name"))==null?null:f.hasError("required")),a(7),o("ngIf",(g=n.registerForm.get("email"))==null?null:g.hasError("required")),a(),o("ngIf",(_=n.registerForm.get("email"))==null?null:_.hasError("email")),a(7),o("ngIf",(h=n.registerForm.get("phone"))==null?null:h.hasError("required")),a(),o("ngIf",(x=n.registerForm.get("phone"))==null?null:x.hasError("pattern")),a(7),o("ngIf",(v=n.registerForm.get("password"))==null?null:v.hasError("required")),a(),o("ngIf",(E=n.registerForm.get("password"))==null?null:E.hasError("minlength")),a(7),o("ngIf",(S=n.registerForm.get("confirmPassword"))==null?null:S.hasError("required")),a(),o("ngIf",(b=n.registerForm.get("confirmPassword"))==null?null:b.hasError("passwordMismatch")),a(),o("ngIf",n.errorMessage),a(),o("disabled",!n.registerForm.valid)}},dependencies:[R,F,L,j,T,k,V,A,D,N,q,Q,O,$,H,K,X,W,U,J,z,B,ee,Z]})}return i})();export{Re as RegisterComponent};
